<div class="bars">
  <ul>
  {{#each parsedBars as bar}}
    <li class="{{barStyle(bar.index)}}">{{bar.index}} {{bar.text}}</li>
  {{/each}}
  </ul>
</div>

<script>
  import { autorun } from 'mobx';
  import store from './store/store';

  export default {
    oncreate () {
      // Connect mobx
      this.autorunDisposer = autorun(() => {
        this.set({
          bars: store.bars,
          position: store.position
        });
      });
    },

    data () {
      return {
        bars: [],
        position: {
          bar: 0,
          tick: 1
        }
      };
    },

    computed: {
      parsedBars: (bars) => {
        return bars.map((bar, index) => {
          return {
            index: index + 1,
            text: bar
          };
        })
      },
      barStyle: (position) => {
        return (index) => {
          return position.bar > index
            ? 'past'
            : position.bar === index
              ? 'current'
              : '';
        };
      }
    }
  };
</script>

<style>
  .bars {
    flex-grow: 1;
    font-family: Courier New, Courier, monospace;
  }
  ul {
    list-style-type: none;
  }
  .past {
    font-weight: bold;
  }
  .current {
    font-weight: bold;
    color: blueviolet;
  }
</style>